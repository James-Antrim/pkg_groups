SET foreign_key_checks = 0;

#region Reset
#region user_usergroup_map Table
DROP TABLE IF EXISTS `v7ocf_user_usergroup_map`;

CREATE TABLE `v7ocf_user_usergroup_map`
(
    `user_id`  INT(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Foreign Key to #__users.id',
    `group_id` INT(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Foreign Key to #__usergroups.id',
    PRIMARY KEY (`user_id`, `group_id`)
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4
  COLLATE = utf8mb4_unicode_ci;

INSERT INTO `v7ocf_user_usergroup_map`(`user_id`, `group_id`)
VALUES (65, 7),
       (65, 12),
       (65, 17),
       (67, 3),
       (67, 7),
       (67, 12),
       (67, 17),
       (71, 3),
       (71, 13),
       (73, 3),
       (73, 13),
       (87, 3),
       (87, 13),
       (87, 23),
       (88, 3),
       (88, 13),
       (88, 15),
       (89, 3),
       (89, 12),
       (89, 17),
       (89, 20),
       (90, 3),
       (90, 13),
       (90, 22),
       (92, 3),
       (92, 13),
       (93, 3),
       (93, 13),
       (94, 3),
       (94, 13),
       (96, 3),
       (96, 13),
       (97, 3),
       (97, 13),
       (98, 3),
       (98, 13),
       (99, 3),
       (99, 13),
       (100, 3),
       (100, 13),
       (100, 20),
       (101, 3),
       (101, 13),
       (102, 3),
       (102, 13),
       (103, 3),
       (103, 13),
       (105, 13),
       (106, 3),
       (106, 13),
       (112, 3),
       (112, 12),
       (112, 17),
       (112, 22),
       (115, 3),
       (115, 12),
       (115, 17),
       (116, 3),
       (116, 12),
       (116, 18),
       (116, 20),
       (118, 3),
       (118, 12),
       (118, 16),
       (118, 17),
       (120, 3),
       (120, 12),
       (120, 17),
       (120, 20),
       (120, 22),
       (120, 27),
       (121, 3),
       (121, 12),
       (121, 17),
       (123, 3),
       (123, 12),
       (123, 17),
       (123, 22),
       (126, 3),
       (126, 12),
       (126, 17),
       (126, 22),
       (127, 3),
       (127, 12),
       (127, 17),
       (128, 3),
       (128, 12),
       (128, 17),
       (131, 3),
       (131, 12),
       (131, 17),
       (132, 3),
       (132, 12),
       (132, 17),
       (132, 20),
       (133, 3),
       (133, 12),
       (133, 17),
       (133, 24),
       (137, 3),
       (137, 12),
       (137, 17),
       (138, 3),
       (138, 12),
       (138, 17),
       (143, 3),
       (143, 12),
       (143, 17),
       (148, 3),
       (148, 12),
       (148, 17),
       (148, 19),
       (150, 3),
       (150, 12),
       (150, 17),
       (150, 20),
       (151, 3),
       (151, 12),
       (151, 18),
       (151, 22),
       (152, 3),
       (152, 12),
       (152, 13),
       (152, 17),
       (152, 20),
       (153, 3),
       (153, 12),
       (153, 17),
       (157, 3),
       (157, 12),
       (157, 17),
       (158, 3),
       (158, 12),
       (158, 17),
       (163, 3),
       (163, 12),
       (163, 17),
       (164, 3),
       (164, 13),
       (165, 3),
       (165, 12),
       (165, 16),
       (165, 17),
       (166, 3),
       (166, 12),
       (166, 18),
       (166, 20),
       (169, 3),
       (169, 13),
       (169, 16),
       (169, 24),
       (172, 15),
       (173, 3),
       (173, 12),
       (173, 17),
       (175, 3),
       (175, 13),
       (177, 3),
       (177, 12),
       (177, 17),
       (177, 23),
       (179, 3),
       (179, 12),
       (179, 18),
       (179, 22),
       (193, 3),
       (193, 12),
       (193, 26),
       (197, 3),
       (197, 13),
       (198, 13),
       (199, 3),
       (199, 12),
       (199, 18),
       (896, 8),
       (897, 26),
       (898, 3),
       (898, 13),
       (902, 3),
       (902, 12),
       (902, 17),
       (902, 28),
       (909, 3),
       (909, 12),
       (909, 18),
       (913, 3),
       (913, 12),
       (913, 18),
       (913, 19),
       (914, 3),
       (914, 13),
       (915, 3),
       (915, 12),
       (915, 17),
       (915, 18),
       (918, 3),
       (918, 12),
       (918, 19),
       (918, 22),
       (919, 3),
       (919, 12),
       (919, 19),
       (919, 22),
       (919, 25),
       (920, 3),
       (920, 12),
       (921, 3),
       (921, 12),
       (921, 17),
       (925, 3),
       (925, 13),
       (925, 27),
       (927, 3),
       (927, 13),
       (929, 3),
       (929, 12),
       (929, 17),
       (929, 24),
       (930, 3),
       (930, 12),
       (930, 18),
       (931, 3),
       (931, 12),
       (931, 19),
       (931, 22),
       (931, 25),
       (932, 3),
       (932, 12),
       (932, 19),
       (932, 22),
       (936, 3),
       (936, 12),
       (936, 25),
       (937, 3),
       (937, 12),
       (937, 19),
       (939, 3),
       (939, 12),
       (939, 19),
       (940, 3),
       (940, 19),
       (941, 3),
       (941, 12),
       (941, 18),
       (941, 19),
       (941, 23),
       (942, 3),
       (942, 19),
       (942, 22),
       (943, 3),
       (943, 12),
       (943, 19),
       (943, 22),
       (943, 27),
       (945, 3),
       (945, 12),
       (945, 19),
       (945, 22),
       (945, 25),
       (946, 3),
       (946, 12),
       (946, 19),
       (946, 20),
       (946, 25),
       (947, 3),
       (947, 12),
       (947, 19),
       (949, 3),
       (949, 12),
       (949, 19),
       (949, 22),
       (950, 12),
       (950, 19),
       (951, 3),
       (951, 11),
       (951, 13),
       (953, 3),
       (953, 12),
       (953, 19),
       (953, 25),
       (953, 27),
       (954, 3),
       (954, 12),
       (954, 18),
       (954, 20),
       (954, 22),
       (962, 3),
       (962, 11),
       (962, 12),
       (962, 19),
       (962, 20),
       (963, 3),
       (963, 12),
       (963, 19),
       (963, 22),
       (963, 25),
       (966, 3),
       (966, 12),
       (966, 19),
       (967, 3),
       (967, 12),
       (967, 19),
       (971, 3),
       (971, 12),
       (971, 18),
       (972, 3),
       (972, 13),
       (972, 28),
       (975, 3),
       (975, 12),
       (975, 18),
       (976, 3),
       (976, 12),
       (976, 17),
       (977, 3),
       (977, 12),
       (977, 19),
       (977, 25),
       (977, 27),
       (978, 3),
       (978, 12),
       (978, 19),
       (979, 3),
       (979, 12),
       (979, 17),
       (981, 3),
       (981, 13),
       (981, 16),
       (981, 26),
       (982, 3),
       (982, 12),
       (982, 25),
       (982, 28),
       (983, 3),
       (983, 12),
       (983, 25),
       (983, 28),
       (984, 3),
       (984, 12),
       (984, 18),
       (984, 22),
       (985, 3),
       (985, 12),
       (985, 18),
       (985, 22),
       (987, 3),
       (987, 12),
       (987, 19),
       (987, 20),
       (987, 25),
       (988, 3),
       (988, 12),
       (988, 19),
       (988, 26),
       (990, 3),
       (990, 12),
       (990, 19),
       (990, 26),
       (992, 3),
       (992, 13),
       (993, 13),
       (994, 3),
       (994, 12),
       (994, 18),
       (994, 28),
       (995, 3),
       (995, 13),
       (996, 3),
       (996, 13),
       (998, 3),
       (998, 12),
       (998, 19),
       (998, 25),
       (999, 3),
       (999, 12),
       (999, 25),
       (1000, 3),
       (1000, 12),
       (1000, 19),
       (1000, 22),
       (1002, 3),
       (1002, 12),
       (1002, 19),
       (1003, 3),
       (1003, 12),
       (1003, 25),
       (1004, 3),
       (1004, 12),
       (1004, 18),
       (1005, 3),
       (1005, 12),
       (1005, 18),
       (1005, 22),
       (1006, 3),
       (1006, 12),
       (1006, 25),
       (1007, 3),
       (1007, 12),
       (1007, 19),
       (1007, 22),
       (1007, 25),
       (1008, 3),
       (1008, 12),
       (1008, 18),
       (1008, 19),
       (1008, 26),
       (1009, 3),
       (1009, 11),
       (1009, 12),
       (1009, 29),
       (1010, 3),
       (1010, 12),
       (1010, 29),
       (1011, 3),
       (1011, 12),
       (1011, 29),
       (1012, 3),
       (1012, 12),
       (1012, 18),
       (1012, 22),
       (1013, 3),
       (1013, 12),
       (1013, 18),
       (1013, 22),
       (1014, 3),
       (1014, 12),
       (1014, 19),
       (1014, 22),
       (1014, 25),
       (1015, 3),
       (1015, 12),
       (1015, 19),
       (1015, 25),
       (1015, 26),
       (1017, 3),
       (1017, 12),
       (1017, 19),
       (1017, 26),
       (1019, 3),
       (1019, 12),
       (1019, 25),
       (1019, 27),
       (1020, 3),
       (1020, 12),
       (1020, 19),
       (1020, 25),
       (1021, 3),
       (1021, 12),
       (1021, 19),
       (1022, 3),
       (1022, 13),
       (1023, 3),
       (1023, 12),
       (1023, 22),
       (1023, 25),
       (1024, 3),
       (1024, 12),
       (1024, 19),
       (1024, 22),
       (1024, 25),
       (1025, 3),
       (1025, 12),
       (1025, 19),
       (1025, 22),
       (1027, 3),
       (1027, 12),
       (1027, 19),
       (1027, 25),
       (1028, 3),
       (1028, 12),
       (1028, 19),
       (1028, 26),
       (1029, 3),
       (1029, 12),
       (1029, 19),
       (1029, 25),
       (1030, 3),
       (1030, 12),
       (1030, 18),
       (1030, 19),
       (1031, 3),
       (1031, 12),
       (1031, 18),
       (1031, 26),
       (1032, 3),
       (1032, 12),
       (1032, 18),
       (1032, 19),
       (1032, 26),
       (1034, 3),
       (1034, 12),
       (1034, 19),
       (1034, 23),
       (1035, 3),
       (1035, 12),
       (1035, 18),
       (1035, 26),
       (1036, 3),
       (1036, 12),
       (1036, 18),
       (1036, 26),
       (1037, 3),
       (1037, 12),
       (1037, 18),
       (1037, 26),
       (1038, 3),
       (1038, 12),
       (1038, 19),
       (1038, 25),
       (1039, 3),
       (1039, 12),
       (1039, 20),
       (1039, 25),
       (1040, 3),
       (1040, 12),
       (1040, 18),
       (1041, 3),
       (1041, 12),
       (1041, 18),
       (1041, 22),
       (1042, 3),
       (1042, 12),
       (1042, 18),
       (1042, 22),
       (1043, 3),
       (1043, 12),
       (1043, 22),
       (1043, 25),
       (1044, 3),
       (1044, 12),
       (1044, 18),
       (1044, 22),
       (1045, 3),
       (1045, 12),
       (1045, 18),
       (1046, 3),
       (1046, 12),
       (1046, 18),
       (1047, 3),
       (1047, 12),
       (1047, 19),
       (1047, 26),
       (1048, 3),
       (1048, 12),
       (1048, 18),
       (1048, 22),
       (1049, 3),
       (1049, 12),
       (1049, 19),
       (1049, 26),
       (1050, 3),
       (1050, 12),
       (1050, 18),
       (1050, 23),
       (1051, 3),
       (1051, 12),
       (1051, 18),
       (1051, 27),
       (1052, 3),
       (1052, 12),
       (1052, 22),
       (1052, 25),
       (1053, 3),
       (1053, 12),
       (1053, 19),
       (1053, 26),
       (1054, 3),
       (1054, 12),
       (1054, 18),
       (1054, 19),
       (1055, 3),
       (1055, 12),
       (1055, 18),
       (1056, 3),
       (1056, 12),
       (1056, 18),
       (1057, 3),
       (1057, 12),
       (1057, 18),
       (1058, 3),
       (1058, 12),
       (1058, 18),
       (1059, 3),
       (1059, 12),
       (1059, 18),
       (1060, 3),
       (1060, 12),
       (1060, 25),
       (1060, 26),
       (1061, 3),
       (1061, 12),
       (1061, 18),
       (1070, 8),
       (1076, 7),
       (1076, 13);
#endregion

DROP TABLE IF EXISTS
    `v7ocf_groups_attributes`,
    `v7ocf_groups_groups`,
    `v7ocf_groups_person_associations`,
    `v7ocf_groups_person_attributes`,
    `v7ocf_groups_persons`,
    `v7ocf_groups_role_associations`,
    `v7ocf_groups_roles`,
    `v7ocf_groups_types`;
#endregion

#region Creation
CREATE TABLE IF NOT EXISTS `v7ocf_groups_attributes`
(
    `id`            INT(11) UNSIGNED    NOT NULL AUTO_INCREMENT,
    `label_de`      VARCHAR(100)        NOT NULL,
    `label_en`      VARCHAR(100)        NOT NULL,
    `icon`          VARCHAR(255)        NOT NULL DEFAULT '',
    `typeID`        INT(11) UNSIGNED    NOT NULL,
    `configuration` TEXT COMMENT 'A JSON string containing the configuration of the attribute.',
    `context`       TINYINT(1) UNSIGNED NOT NULL DEFAULT 0 COMMENT '0 => Both, 1 => Profile, 2 => Group',
    `viewLevelID`   INT(10) UNSIGNED             DEFAULT 1,
    PRIMARY KEY (`id`),
    UNIQUE (`label_de`),
    UNIQUE (`label_en`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8mb4
    COLLATE = utf8mb4_unicode_ci;

#todo integrate with usergroups?
# no unique keys for groups which may have the same name in different contexts.
CREATE TABLE IF NOT EXISTS `v7ocf_groups_groups`
(
    `id`      INT(10) UNSIGNED NOT NULL,
    `name_de` VARCHAR(100)     NOT NULL,
    `name_en` VARCHAR(100)     NOT NULL,
    PRIMARY KEY (`id`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8mb4
    COLLATE = utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS `v7ocf_groups_person_attributes`
(
    `id`          INT(11) UNSIGNED    NOT NULL AUTO_INCREMENT,
    `attributeID` INT(11) UNSIGNED    NOT NULL,
    `personID`    INT(11)             NOT NULL COMMENT 'Signed because of users table \'id\' fk.',
    `value`       TEXT,
    `published`   TINYINT(1) UNSIGNED NOT NULL DEFAULT 0,
    PRIMARY KEY (`ID`),
    UNIQUE KEY `entry` (`attributeID`, `personID`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8mb4
    COLLATE = utf8mb4_unicode_ci;

#todo integrate with users?
CREATE TABLE IF NOT EXISTS `v7ocf_groups_persons`
(
    `id`        INT(11)             NOT NULL COMMENT 'Signed because of users table \'id\' fk.',
    `surnames`  VARCHAR(255)        NOT NULL,
    `forenames` VARCHAR(255)                 DEFAULT null COMMENT 'Default null because this field will be left blank by a certain subset of accounts.',
    `alias`     VARCHAR(255)                 DEFAULT null,
    `content`   TINYINT(1) UNSIGNED NOT NULL DEFAULT 0,
    `editing`   TINYINT(1) UNSIGNED NOT NULL DEFAULT 0,
    `published` TINYINT(1) UNSIGNED NOT NULL DEFAULT 0,
    PRIMARY KEY (`id`),
    UNIQUE (`alias`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8mb4
    COLLATE = utf8mb4_unicode_ci;

# modernize the table for ease of reference from the role associations table
ALTER TABLE `v7ocf_user_usergroup_map`
    DROP CONSTRAINT `PRIMARY`,
    ADD COLUMN `id` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
    ADD PRIMARY KEY (`id`),
    MODIFY `group_id` INT(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Foreign Key to #__usergroups.id' AFTER `id`,
    MODIFY `user_id` INT(10) UNSIGNED NOT NULL DEFAULT 0 COMMENT 'Foreign Key to #__users.id' AFTER `group_id`,
    ADD UNIQUE KEY `entry` (`group_id`, `user_id`);

CREATE TABLE IF NOT EXISTS `v7ocf_groups_role_associations`
(
    `id`     INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
    `mapID`  INT(11) UNSIGNED NOT NULL,
    `roleID` INT(11) UNSIGNED NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE KEY `entry` (`mapID`, `roleID`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8mb4
    COLLATE = utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS `v7ocf_groups_roles`
(
    `id`       INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
    `name_de`  VARCHAR(100)     NOT NULL,
    `name_en`  VARCHAR(100)     NOT NULL,
    `names_de` VARCHAR(100)     NOT NULL,
    `names_en` VARCHAR(100)     NOT NULL,
    `ordering` INT(3) UNSIGNED  NOT NULL DEFAULT 0,
    PRIMARY KEY (`id`),
    UNIQUE KEY `entry` (`name_de`, `name_en`),
    UNIQUE KEY `entries` (`names_de`, `names_en`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8mb4
    COLLATE = utf8mb4_unicode_ci;

CREATE TABLE IF NOT EXISTS `v7ocf_groups_types`
(
    `id`            INT(11) UNSIGNED    NOT NULL AUTO_INCREMENT,
    `name_de`       VARCHAR(100)        NOT NULL,
    `name_en`       VARCHAR(100)        NOT NULL,
    `inputID`       TINYINT(2) UNSIGNED NOT NULL DEFAULT 1 COMMENT 'Resolves via Helpers\\Inputs.',
    `configuration` TEXT COMMENT 'A JSON string containing the configuration of the attribute type.',
    PRIMARY KEY (`id`),
    UNIQUE (`name_de`),
    UNIQUE (`name_en`)
)
    ENGINE = InnoDB
    DEFAULT CHARSET = utf8mb4
    COLLATE = utf8mb4_unicode_ci;
#endregion

#region Fill
# Forenames and surnames are now a part of the persons table
INSERT INTO `v7ocf_groups_attributes` (`id`, `label_de`, `label_en`, `icon`, `typeID`, `configuration`, `context`, `viewLevelID`)
VALUES (1, 'E-Mail', 'E-Mail', 'mail', 3, '{}', 0, 1),
       (2, 'Namenszusatz (nach)', 'Supplement (Post)', '', 4, '{"hint":"M.Sc."}', 1, 1),
       (3, 'Namenszusatz (vor)', 'Supplement (Pre)', '', 4, '{"hint":"Prof. Dr."}', 1, 1),
       (4, 'Profilbild', 'Profile Picture', '', 5, '{}', 1, 1),
       (5, 'Telefon', 'Telephone', 'phone', 6, '{}', 0, 1),
       (6, 'weiteres Telefon', 'Additional Telephone', 'phone', 6, '{}', 0, 1),
       (7, 'Fax', 'Fax', 'print', 6, '{}', 0, 1),
       (8, 'weiteres Fax', 'Additional Fax', 'print', 6, '{}', 0, 1),
       (9, 'weitere  E-Mail', 'Additional E-Mail', 'mail', 3, '{"hint":"maxine.mustermann@fb.thm.de"}', 0, 1),
       (10, 'Aktuelles', 'Current Information', 'info', 7, '{"buttons": 0}', 0, 1),
       (11, 'weitere  Informationen', 'Additional Information', 'info', 7, '{"buttons": 0}', 0, 1),
       (12, 'zur Person', 'Personal Information', 'user', 7, '{"buttons": 0}', 0, 1);

# Surname default = users display name
INSERT INTO `v7ocf_groups_persons` (`id`, `surnames`)
SELECT DISTINCT `u`.`id`, `u`.`name`
FROM `v7ocf_users` AS u;

# Default messages and patterns derive from input classes
INSERT INTO `v7ocf_groups_types` (`id`, `name_de`, `name_en`, `inputID`, `configuration`)
VALUES (1, 'Einfaches Text', 'Simple Text', 1, '{}'),
       (2, 'Name', 'Name', 1, '{"message_de":"Namen dürfen nur aus Buchstaben und einzelne Apostrophen, Leer- und Minuszeichen und Punkten bestehen.","message_en":"Names may only consist of letters and singular apostrophes, hyphens, periods, and spaces.","pattern":"^([a-zß-ÿ]+ )*([a-zß-ÿ]+\'\')?[A-ZÀ-ÖØ-Þ](\\\\.|[a-zß-ÿ]+)([ |-]([a-zß-ÿ]+ )?([a-zß-ÿ]+\'\')?[A-ZÀ-ÖØ-Þ](\\\\.|[a-zß-ÿ]+))*$"}'),
       (3, 'E-Mail Adresse', 'E-Mail Address', 6, '{}'),
       (4, 'Namenszusatz', 'Name Supplement', 1, '{"message_de":"Der Namenszusatz/akademische Grad ist ungültig. Namenszusätze dürfen nur aus Buchstaben, Leerzeichen, Kommata, Punkte, Runde Klammer, Minus Zeichen und &dagger; bestehen.","message_en":"The name supplement / title is invalid. Name supplements may only consist of letters, spaces, commas, periods, round braces, minus signs and &dagger;.","pattern":"^[A-ZÀ-ÖØ-Þa-zß-ÿ ,.\\\\-()†]+$"}'),
       (5, 'Bild', 'Picture', 4, '{"accept":".bmp,.BMP,.gif,.GIF,.jpg,.JPG,.jpeg,.JPEG,.png,.PNG"}'),
       (6, 'Telefonnummer', 'Telephone Number', 7, '{"pattern":"^(\\\\+[\\\\d]+ ?)?( ?((\\\\(0?[\\\\d]*\\\\))|(0?[\\\\d]+(\\/| \\\\/)?)))?(([ \\\\-]|[\\\\d]+)+)$"}'),
       (7, 'Ausführlicher Text / HTML', 'Descriptive Text / HTML', 2, '{}'),
       (8, 'Datum', 'Date', 5, '{}');

INSERT INTO `v7ocf_groups_roles` (`id`, `name_de`, `name_en`, `names_de`, `names_en`, `ordering`)
VALUES (1, 'Dekan', 'Dean', 'Dekane', 'Deans', 1),
       (2, 'Dekanin', 'Dean', 'Dekaninnen', 'Deans', 2),
       (3, 'Prodekan', 'Vice Dean', 'Prodekane', 'Vice Deans', 3),
       (4, 'Prodekanin', 'Vice Dean', 'Prodekaninnen', 'Vice Deans', 4),
       (5, 'Studiendekan', 'Dean of Studies', 'Studiendekane', 'Deans of Studies', 5),
       (6, 'Studiendekanin', 'Dean of Studies', 'Studiendekaninnen', 'Deans of Studies', 6),
       (7, 'Leitung', 'Management', 'Leitung', 'Management', 7),
       (8, 'Koordinator:in', 'Coordinator', 'Koordinator:innen', 'Coordinators', 8),
       (9, 'Professor:in', 'Professor', 'Professor:innen', 'Professors', 9),
       (10, 'Sekretariat', 'Secretariat', 'Sekretariat', 'Secretariat', 10),
       (11, 'Mitarbeiter:in', 'Staff', 'Mitarbeiter:innen', 'Staff', 11),
       (12, 'Lehrbeauftragte', 'Lecturer', 'Lehrbeauftragten', 'Lecturers', 12),
       (13, 'Studentische Mitarbeiter:in', 'Student Staff', 'Studentische Mitarbeiter:innen', 'Student Staff', 13),
       (14, 'Praktikant:in', 'Intern', 'Praktikant:innen', 'Interns', 14),
       (15, 'Schülerpraktikant:in', 'Student Intern', 'Schülerpraktikant:innen', 'Student Interns', 15),
       (16, 'Student:in', 'Student', 'Studenten:innen', 'Student', 16),
       (17, 'Ehemalige', 'Alumnus', 'Alumni', 'Alumni', 18);
#endregion

#region Reference
ALTER TABLE `v7ocf_groups_attributes`
    ADD CONSTRAINT `fk_attributes_typeID` FOREIGN KEY (`typeID`) REFERENCES `v7ocf_groups_types` (`id`) ON UPDATE CASCADE ON DELETE CASCADE,
    ADD CONSTRAINT `fk_attributes_viewLevelID` FOREIGN KEY (`viewLevelID`) REFERENCES `v7ocf_viewlevels` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE `v7ocf_groups_groups`
    ADD CONSTRAINT `fk_groups_groupID` FOREIGN KEY (`id`) REFERENCES `v7ocf_usergroups` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;

ALTER TABLE `v7ocf_groups_person_attributes`
    ADD CONSTRAINT `fk_pAttribs_attributeID` FOREIGN KEY (`attributeID`) REFERENCES `v7ocf_groups_attributes` (`id`)
        ON UPDATE CASCADE
        ON DELETE CASCADE,
    ADD CONSTRAINT `fk_pAttribs_personID` FOREIGN KEY (`personID`) REFERENCES `v7ocf_groups_persons` (`id`)
        ON UPDATE CASCADE
        ON DELETE CASCADE;

ALTER TABLE `v7ocf_groups_persons`
    ADD CONSTRAINT `fk_persons_userID` FOREIGN KEY (`id`) REFERENCES `v7ocf_users` (`id`)
        ON UPDATE CASCADE
        ON DELETE CASCADE;

ALTER TABLE `v7ocf_groups_role_associations`
    ADD CONSTRAINT `fk_rAssocs_mapID` FOREIGN KEY (`mapID`) REFERENCES `v7ocf_user_usergroup_map` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
    ADD CONSTRAINT `fk_rAssocs_roleID` FOREIGN KEY (`roleID`) REFERENCES `v7ocf_groups_roles` (`id`) ON DELETE CASCADE ON UPDATE CASCADE;
#endregion

SET foreign_key_checks = 1;